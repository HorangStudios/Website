<!doctype html>
<html>

<head>
  <title>HorangHill</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/post.css">
  <link rel="icon" type="image/x-icon" href="../css/HorangHill.png">
  <script src="https://kit.fontawesome.com/970a0290cd.js" crossorigin="anonymous"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9451295160532565" crossorigin="anonymous"></script>
</head>

<body>
  <header>
    <h1>HorangHill</h1><br>
    <a class="navlink" href="home.html" style="color: white; text-decoration: none;">Home</a>
    <a class="navlink" href="post.html" style="color: white; text-decoration: none;">Publish</a>
    <a class="navlink" href="download.html" style="color: white; text-decoration: none;">Download</a>
    <a class="navlink" href="https://horanghill.createaforum.com/index.php"
      style="color: white; text-decoration: none;">Forum</a>
    <a class="navlink" href="account.html" style="color: white; text-decoration: none;">Account</a>
  </header>
  <main style="display: none;" id="main">
    <h1 id="greetings">Account Settings</h1>
    <div id="form">
      <br>
      <h2 id="greetings">Display Name</h2>
      <input id="displayName" name="displayName" placeholder="Display Name"></input>
      <button onclick="updateDisplayName()">Change DisplayName</button>
      <h2 id="greetings">Email And Password</h2>
      <input id="passbox" name="passbox" placeholder="Password" type="password"></input>
      <button onclick="updatePassWord()">Update Password</button>
      <input id="mailbox" name="mailbox" placeholder="Email" type="email"></input>
      <button onclick="updateMail()">Update Email</button>
    </div>

    <hr>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9451295160532565"
      crossorigin="anonymous"></script>
    <!-- horang-ad -->
    <div id="adcontainer">
      <ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px"
      data-ad-client="ca-pub-9451295160532565" data-ad-slot="9073494877"></ins>  
    </div>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    <hr>

    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-auth.js"></script>
    <script>
      // Initialize Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyDE-mQcJoquJxLrHAcS1kZbpjUbHYQmzsE",
        authDomain: "horanghill.firebaseapp.com",
        databaseURL: "https://horanghill-default-rtdb.firebaseio.com",
        projectId: "horanghill",
        storageBucket: "horanghill.appspot.com",
        messagingSenderId: "710235265347",
        appId: "1:710235265347:web:37fb53fe0bb9c4ecdab7f6",
        measurementId: "G-S1JMDFPGL0"
      };
      firebase.initializeApp(firebaseConfig);
      var database = firebase.database();

      function updateDisplayName() {
        try {
          firebase.auth().currentUser.updateProfile({
            displayName: document.getElementById('displayName').value
          });
        } catch (error) {
          alert(error.message);
        }
      }

      function updatePassWord() {
        try {
          firebase.auth().currentUser.updatePassword(document.getElementById('passbox').value)
            .catch((error) => {
              alert(error.message);
            });
        } catch (error) {
          alert(error.message);
        }
      }

      function updateMail() {
        try {
          firebase.auth().currentUser.updateEmail(document.getElementById('mailbox').value)
            .catch((error) => {
              alert(error.message);
            });
        } catch (error) {
          alert(error.message);
        }
      }

      database.ref('games').on('value', function (snapshot) {
        document.getElementById('main').style.display = "block"
        var displayName = firebase.auth().currentUser.displayName;
        document.getElementById('displayName').value = `${displayName}`
      });
    </script>
  </main>
</body>

</html>